<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPI Scanner with Estimated Cost</title>
</head>
<body>
    <h1>Cost Estimator</h1>
    <label for="pages">Number of Pages:</label>
    <input type="number" id="pages" min="1"><br><br>

    <label for="color">Select Color:</label>
    <select id="color">
        <option value="black-and-white">Black and White</option>
        <option value="color">Color</option>
    </select><br><br>

    <label for="copies">Number of Copies:</label>
    <input type="number" id="copies" min="1"><br><br>

    <label for="side">Select Print Type:</label>
    <select id="side">
        <option value="single">Single-Sided</option>
        <option value="double">Double-Sided</option>
    </select><br><br>

    <button onclick="generateQRCode()">Calculate Cost</button>

    <h2 id="estimatedAmount">Estimated Cost: ₹0</h2>

    <h3>Upload UPI QR Code:</h3>
    <input type="file" id="qrCodeUploader" accept="image/*" onchange="uploadQRCode()"><br><br>

    <div id="qr-code"></div>

    <script>
        function calculateEstimatedCost() {
            const pages = parseInt(document.getElementById('pages').value, 10);
            const color = document.getElementById('color').value;
            const copies = parseInt(document.getElementById('copies').value, 10);
            const side = document.getElementById('side').value;

            let costPerPage = 0;
            const totalPageCount = pages + copies;

            // Determine cost per page based on color and total page count
            if (color === 'black-and-white') {
                costPerPage = totalPageCount <= 10 ? 3 : 2;
            } else if (color === 'color') {
                costPerPage = totalPageCount <= 10 ? 10 : 7;
            }

            // Calculate total cost
            let totalCost = costPerPage * pages * copies;

            // Adjust for double-sided printing
            if (side === 'double') {
                totalCost *= 2;
            }

            return totalCost;
        }

        function generateQRCode() {
            // Calculate the estimated cost
            const estimatedAmount = calculateEstimatedCost();

            // Display the estimated cost on the page
            document.getElementById("estimatedAmount").innerText = `Estimated Cost: ₹${estimatedAmount}`;
        }

        function uploadQRCode() {
            const fileInput = document.getElementById("qrCodeUploader");
            const qrCodeContainer = document.getElementById("qr-code");

            // Clear previous QR code (if any)
            qrCodeContainer.innerHTML = "";

            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    const qrCodeImageElement = document.createElement("img");
                    qrCodeImageElement.src = e.target.result;
                    qrCodeImageElement.alt = "Uploaded UPI QR Code";
                    qrCodeImageElement.style.width = "200px"; // Set desired size
                    qrCodeImageElement.style.height = "200px";

                    qrCodeContainer.appendChild(qrCodeImageElement);
                };

                reader.readAsDataURL(fileInput.files[0]); // Read the file as a data URL
            }
        }
    </script>
</body>
</html>
